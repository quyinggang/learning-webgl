const S=r=>{const e=new Image;return e.crossOrigin="Anonymous",e.src=r,new Promise((s,i)=>{e.onload=()=>s(e),e.onerror=()=>i()})},_=(r,e)=>{const s=window.devicePixelRatio,i=document.createElement("canvas");return i.width=s*r,i.height=s*e,i.style.cssText=`position:absolute;top:0;left:0;width:${r}px;height:${e}px;`,i},j=r=>r*Math.PI/180;var k=1e-6,q=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function B(){var r=new q(16);return q!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function C(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function D(r,e){if(r===e){var s=e[1],i=e[2],n=e[3],v=e[6],a=e[7],b=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=s,r[6]=e[9],r[7]=e[13],r[8]=i,r[9]=v,r[11]=e[14],r[12]=n,r[13]=a,r[14]=b}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}function G(r,e){var s=e[0],i=e[1],n=e[2],v=e[3],a=e[4],b=e[5],M=e[6],x=e[7],l=e[8],d=e[9],m=e[10],c=e[11],g=e[12],z=e[13],A=e[14],I=e[15],P=s*b-i*a,y=s*M-n*a,h=s*x-v*a,f=i*M-n*b,p=i*x-v*b,R=n*x-v*M,E=l*z-d*g,F=l*A-m*g,O=l*I-c*g,T=d*A-m*z,N=d*I-c*z,Y=m*I-c*A,w=P*Y-y*N+h*T+f*O-p*F+R*E;return w?(w=1/w,r[0]=(b*Y-M*N+x*T)*w,r[1]=(n*N-i*Y-v*T)*w,r[2]=(z*R-A*p+I*f)*w,r[3]=(m*p-d*R-c*f)*w,r[4]=(M*O-a*Y-x*F)*w,r[5]=(s*Y-n*O+v*F)*w,r[6]=(A*h-g*R-I*y)*w,r[7]=(l*R-m*h+c*y)*w,r[8]=(a*N-b*O+x*E)*w,r[9]=(i*O-s*N-v*E)*w,r[10]=(g*p-z*h+I*P)*w,r[11]=(d*h-l*p-c*P)*w,r[12]=(b*F-a*T-M*E)*w,r[13]=(s*T-i*F+n*E)*w,r[14]=(z*y-g*f-A*P)*w,r[15]=(l*f-d*y+m*P)*w,r):null}function H(r,e,s){var i=e[0],n=e[1],v=e[2],a=e[3],b=e[4],M=e[5],x=e[6],l=e[7],d=e[8],m=e[9],c=e[10],g=e[11],z=e[12],A=e[13],I=e[14],P=e[15],y=s[0],h=s[1],f=s[2],p=s[3];return r[0]=y*i+h*b+f*d+p*z,r[1]=y*n+h*M+f*m+p*A,r[2]=y*v+h*x+f*c+p*I,r[3]=y*a+h*l+f*g+p*P,y=s[4],h=s[5],f=s[6],p=s[7],r[4]=y*i+h*b+f*d+p*z,r[5]=y*n+h*M+f*m+p*A,r[6]=y*v+h*x+f*c+p*I,r[7]=y*a+h*l+f*g+p*P,y=s[8],h=s[9],f=s[10],p=s[11],r[8]=y*i+h*b+f*d+p*z,r[9]=y*n+h*M+f*m+p*A,r[10]=y*v+h*x+f*c+p*I,r[11]=y*a+h*l+f*g+p*P,y=s[12],h=s[13],f=s[14],p=s[15],r[12]=y*i+h*b+f*d+p*z,r[13]=y*n+h*M+f*m+p*A,r[14]=y*v+h*x+f*c+p*I,r[15]=y*a+h*l+f*g+p*P,r}function J(r,e,s){var i=s[0],n=s[1],v=s[2],a,b,M,x,l,d,m,c,g,z,A,I;return e===r?(r[12]=e[0]*i+e[4]*n+e[8]*v+e[12],r[13]=e[1]*i+e[5]*n+e[9]*v+e[13],r[14]=e[2]*i+e[6]*n+e[10]*v+e[14],r[15]=e[3]*i+e[7]*n+e[11]*v+e[15]):(a=e[0],b=e[1],M=e[2],x=e[3],l=e[4],d=e[5],m=e[6],c=e[7],g=e[8],z=e[9],A=e[10],I=e[11],r[0]=a,r[1]=b,r[2]=M,r[3]=x,r[4]=l,r[5]=d,r[6]=m,r[7]=c,r[8]=g,r[9]=z,r[10]=A,r[11]=I,r[12]=a*i+l*n+g*v+e[12],r[13]=b*i+d*n+z*v+e[13],r[14]=M*i+m*n+A*v+e[14],r[15]=x*i+c*n+I*v+e[15]),r}function K(r,e,s){var i=s[0],n=s[1],v=s[2];return r[0]=e[0]*i,r[1]=e[1]*i,r[2]=e[2]*i,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*v,r[9]=e[9]*v,r[10]=e[10]*v,r[11]=e[11]*v,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function Q(r,e,s,i){var n=i[0],v=i[1],a=i[2],b=Math.hypot(n,v,a),M,x,l,d,m,c,g,z,A,I,P,y,h,f,p,R,E,F,O,T,N,Y,w,$;return b<k?null:(b=1/b,n*=b,v*=b,a*=b,M=Math.sin(s),x=Math.cos(s),l=1-x,d=e[0],m=e[1],c=e[2],g=e[3],z=e[4],A=e[5],I=e[6],P=e[7],y=e[8],h=e[9],f=e[10],p=e[11],R=n*n*l+x,E=v*n*l+a*M,F=a*n*l-v*M,O=n*v*l-a*M,T=v*v*l+x,N=a*v*l+n*M,Y=n*a*l+v*M,w=v*a*l-n*M,$=a*a*l+x,r[0]=d*R+z*E+y*F,r[1]=m*R+A*E+h*F,r[2]=c*R+I*E+f*F,r[3]=g*R+P*E+p*F,r[4]=d*O+z*T+y*N,r[5]=m*O+A*T+h*N,r[6]=c*O+I*T+f*N,r[7]=g*O+P*T+p*N,r[8]=d*Y+z*w+y*$,r[9]=m*Y+A*w+h*$,r[10]=c*Y+I*w+f*$,r[11]=g*Y+P*w+p*$,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}function L(r,e,s,i,n){var v=1/Math.tan(e/2),a;return r[0]=v/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n!=null&&n!==1/0?(a=1/(i-n),r[10]=(n+i)*a,r[14]=2*n*i*a):(r[10]=-1,r[14]=-2*i),r}var U=L;function V(r,e,s,i){var n,v,a,b,M,x,l,d,m,c,g=e[0],z=e[1],A=e[2],I=i[0],P=i[1],y=i[2],h=s[0],f=s[1],p=s[2];return Math.abs(g-h)<k&&Math.abs(z-f)<k&&Math.abs(A-p)<k?C(r):(l=g-h,d=z-f,m=A-p,c=1/Math.hypot(l,d,m),l*=c,d*=c,m*=c,n=P*m-y*d,v=y*l-I*m,a=I*d-P*l,c=Math.hypot(n,v,a),c?(c=1/c,n*=c,v*=c,a*=c):(n=0,v=0,a=0),b=d*a-m*v,M=m*n-l*a,x=l*v-d*n,c=Math.hypot(b,M,x),c?(c=1/c,b*=c,M*=c,x*=c):(b=0,M=0,x=0),r[0]=n,r[1]=b,r[2]=l,r[3]=0,r[4]=v,r[5]=M,r[6]=d,r[7]=0,r[8]=a,r[9]=x,r[10]=m,r[11]=0,r[12]=-(n*g+v*z+a*A),r[13]=-(b*g+M*z+x*A),r[14]=-(l*g+d*z+m*A),r[15]=1,r)}export{B as a,V as b,_ as c,j as d,D as e,G as i,S as l,H as m,U as p,Q as r,K as s,J as t};
